package ncg.chimpsahoy.everdark;
import java.io.*;
import java.util.Scanner;

public class Config {

	private static final int n = 5;
	private static String[] values = new String[n];
	public static final String MUSIC_PATH;
	public static final String SAVE_PATH;
	public static final int WIDTH;
	public static final int HEIGHT;
	public static final boolean ANSI;
	public static final String VERS = "v0.0.9";
	
	public static final Map MAIN_MENU = new Map(0, "main", "", null, null, null, 0, 0, 0);
	public static final Map WW;
	public static final Map TWN;
	public static final Map TNO;

	static  {
		File f = null;
		Scanner lineScanner = null;
		try {
			f = new File("config.txt");
			lineScanner = new Scanner(f);
			for (int i = 0; i<n; i++) {
				Scanner valueGetter = new Scanner(lineScanner.nextLine());
				valueGetter.useDelimiter(": ");
				valueGetter.next();
				values[i] = valueGetter.next();
			}
		} catch (Exception e) {
			System.out.println("Game Data could not be initialized. Files may be missing or corrupt.");
			System.exit(1);
		}
		WIDTH = Integer.parseInt(values[0]);
		HEIGHT = Integer.parseInt(values[1]);
		SAVE_PATH = values[2];
		MUSIC_PATH = values[3];
		ANSI = (values[4].toLowerCase().charAt(0) == 'y');
		
		int[][] wwTopo = { 
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						};
						
		Entity[][] wwEnt = new Entity[16][16];
		
		char[][] wwFeat = {
							{'T', ';', ';', ';', ';', ';', ';', ';', ';', ';', 'T', ';', ';', '~', '~', '~'},
						    {';', ';', ';', 'T', ';', ';', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', ';', ';', 'T', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', 'T', ';', ';', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', 'T', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', 'T', ';', ';', ';', ';', ';', ';', ';', ';', ';', 'T', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', 'T', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', 'T', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', 'T', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', 'T', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', 'T', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', ';', 'T', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', 'T', ';', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', ';', ';', ';', 'T', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', 'T', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', 'T', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						};
						
		MapLink[][] wwLink = new MapLink[16][16];

		int[][] twnTopo = { 
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						   {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
						};
						
		Entity[][] twnEnt = new Entity[16][16];
		
		char[][] twnFeat = {
							{';', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', 'T', ';', ';', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', ';', ';', 'T', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', 'T', ';', ';', ';', ';', '#', '#', '#', ';', ';', '~', '~', '~'},
						    {';', ';', '#', '#', '#', ';', ';', ';', '/', ';', '#', ';', ';', '~', '~', '~'},
						    {';', ';', '#', ':', '#', ';', ';', ';', '#', '#', '#', ';', 'T', '~', '~', '~'},
						    {';', ';', '#', ':', '/', ';', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', 'T', '#', ':', '#', ';', ';', ';', '#', '#', '#', ';', 'T', '~', '~', '~'},
						    {';', ';', '#', '#', '#', ';', ';', ';', '/', ':', '#', ';', ';', '~', '~', '~'},
						    {';', ';', 'T', ';', ';', ';', ';', ';', '#', '#', '#', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', ';', '#', '/', '#', 'T', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', 'T', '#', ':', '#', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', ';', '#', '#', '#', ';', ';', 'T', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', 'T', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', 'T', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~'},
						};
		
		MapLink[][] twnLink = new MapLink[16][16];
		
		int[][] tnoTopo = { 
						   {1, 1, 1,    1,   1,   1,      1,   1,   1,   1,  0,   0,   0,  -9, -9, -9},
						   {1, 1, 1,    1,   1,   1,      1,   1,   1,   1,  0,   0,   0,  -9, -9, -9},
						   {1, 1, 1,    1,   1,   1,      1,   1,   1,   1,  0,   0,   0,  -9, -9, -9},
						   {1, 1, 1,    1,   1,   1,      1,   1,   1,   1,  0,   0,   0,  -9, -9, -9},
						   {1, 1, 1,    1,   1,   1,      1,   1,   1,   1,  0,   0,   0,  -9, -9, -9},
						   {1, 1, 1,    1,   1,   1,      1,   1,   1,   1,  0,   0,   0,  -9, -9, -9},
						   {1, 1, 1,    1,   1,   1,      1,   1,   1,   1,  0,   0,   0,  -9, -9, -9},
						   {1, 1, 1,    1,   1,   1,      1,   1,   1,   0,  0,   0,   0,  -9, -9, -9},
						   {1, 1, 1,    1,   1,   1,      1,   1,   0,   -9,  -9,   -9,   0,  -9, -9, -9},
						   {1, 1, 1,    1,   1,   1,      1,   0,   -9,  -9, -9,   0,   0,  -9, -9, -9},
						   {1, 1, 1,    1,   1,   1,      0,   0, -9, -9,  1, -9,   0,  -9, -9, -9},
						   {1, 1, 1,    1,   1,   0,     -9, -9, -9,  1,  1,   1,  -9, -9, -9, -9},
						   {1, 1,  1,   1,   1,   1,      1,   1,   1,   1,  1,   1,  -9, -9, -9, -9},//dock
						   {1, 1,  1,   1,   1,   1,      1,   1,   1,   1,  1,   1,  -9, -9, -9, -9},//dock
						   {1, 1, -9, -9, -9, -9,   -9, -9, -9, -9, -9, -9, -9, -9, -9, -9},
						   {1, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9, -9},
						};
		
		char[][] tnoFeat = {
							{'T', ';', ';', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~', '~', '~', '~'},
						    {';', ';', ';', 'T', ';', ';', ';', ';', ';', ';', '~', '~', '~', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', ';', ';', 'T', '~', '~', '~', '~', '~', '~'},
						    {';', ';', ';', 'T', ';', ';', ';', ';', ';', ';', '~', '~', '~', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', 'T', ';', ';', '~', '~', '~', '~', '~', '~'},
						    {';', ';', 'T', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', 'T', ';', ';', '~', '~', '~', '~', '~', '~'},
						    {';', 'T', ';', ';', ';', ';', ';', ';', ';', '~', '~', '~', '~', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', ';', 'T', '~', '~', '~', '~', '~', '~', '~', '~'},
						    {';', ';', 'T', ';', ';', ';', ';', '~', '~', '~', '~', '~', '~', '~', '~', '~'},
						    {';', ';', ';', ';', ';', ';', '~', '~', '~', '~', '^', '~', '~', '~', '~', '~'},
						    {';', ';', ';', ';', 'T', '~', '~', '~', '~', '/', '*', '\\', '~', '~', '~', '~'},
						    {';', ';', ';', ';', '=', '=', '=', '=', '=', '[', '*', ']', '~', '~', '~', '~'},
						    {';', ';', ';', '=', '=', '=', '=', '=', '=', '[', '*', ']', '~', '~', '~', '~'},
						    {';', 'T', '~', '~', '~', '~', '~', '~', '~', '~', '~', '~', '~', '~', '~', '~'},
						    {';', '~', '~', '~', '~', '~', '~', '~', '~', '~', '~', '~', '~', '~', '~', '~'},
						};
		
		Entity[][] tnoEnt = new Entity[16][16];
		
		MapLink[][] tnoLink = new MapLink[16][16];

		wwEnt[0][14] = new Frog(1);
		twnEnt[4][9] = new Human(1);
		twnEnt[7][3] = new Human(1);
		twnEnt[5][3] = new Human(1);
		twnEnt[11][6] = new Human(1);
		
		//important permanent-ish stuff
		String wwDesc = "You find yourself surrounded by forest, lightly illuminated by the full moon overhead.\n" +
		"A light breeze flows between the trees and almost sounds like hushed voices.\n" +
		"Despite the light from the moon, the entire forest looks dull. The trees' hue are desaturated and the whole area feels devoid of life.\n";
		String twnDesc = "A little town on the outskirts of a forest.\n" +
						"The sound of rushing water from a river to the East can be heard, but otherwise it is deadly silent.\n" +
						"It seems oddly devoid of life.\n";
		String tnoDesc = "You stand on a small bit of wild peninsula, near the sea.\n" +
						"In the distance you can see an old ship floating in the bay.\n" +
						"The ship's sails are tattered and it seems to be in a state of disrepair.\n" +
						"Further to the south you can hear a light bustle; voices and song.\n";

		WW =  new Map(1, "whispering woods", wwDesc, wwTopo, wwFeat, wwEnt, 16, 16, 2);
		TWN = new Map(2, "town", twnDesc, twnTopo, twnFeat, twnEnt, 16, 16, 1);
		TNO = new Map(3, "taniere outskirts", tnoDesc, tnoTopo, tnoFeat, tnoEnt, 16, 16, 3);

		WW.addLink(TWN, 15, 6, 0, 6);
		TWN.addLink(WW, 0, 6, 15, 6);
		TWN.addLink(TNO, 15, 3, 0, 3);
		TNO.addLink(TWN, 0, 3, 15, 3);
	}

}
